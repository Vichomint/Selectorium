<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación Técnica - Selectorium</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
        }
        h1, h2, h3, h4 {
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        h1 { font-size: 2.5em; }
        h2 { font-size: 2em; }
        h3 { font-size: 1.7em; }
        h4 { font-size: 1.4em; border-bottom: none; }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: "Courier New", Courier, monospace;
        }
        pre {
            background-color: #f4f4f4;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        pre code {
            padding: 0;
            background-color: transparent;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        strong {
            color: #111;
        }
    </style>
</head>
<body>
    <h1>Selectorium - Documentación Técnica</h1>

    <h2>1. Descripción General</h2>
    <p>Selectorium es una aplicación web desarrollada en Django que funciona como un portal de empleos inteligente. La plataforma conecta a reclutadores con postulantes, facilitando el proceso de selección a través de un sistema de emparejamiento (matching) basado en el análisis de perfiles y currículums mediante técnicas de Procesamiento de Lenguaje Natural (NLP).</p>

    <h2>2. Stack Tecnológico</h2>
    <ul>
        <li><strong>Backend</strong>: Django</li>
        <li><strong>Base de Datos</strong>: PostgreSQL (<code>psycopg2-binary</code>)</li>
        <li><strong>Procesamiento de PDF y OCR</strong>: <code>PyMuPDF (fitz)</code>, <code>PyPDF2</code></li>
        <li><strong>NLP y Machine Learning</strong>: <code>transformers</code>, <code>torch</code>, <code>sentence-transformers</code></li>
        <li><strong>Manipulación de Datos</strong>: <code>pandas</code>, <code>numpy</code></li>
    </ul>

    <h2>3. Análisis Detallado de Funcionalidades</h2>
    <p>El proyecto se divide en dos aplicaciones principales de Django que trabajan en conjunto: <code>portal</code> y <code>matchmaker</code>.</p>

    <h3>3.1. Aplicación <code>portal</code>: La Interfaz y Lógica de Negocio</h3>
    <p>Esta aplicación maneja toda la interacción con el usuario y las reglas del portal de empleos.</p>
    
    <h4>Para Postulantes:</h4>
    <ul>
        <li><strong>Dashboard Personalizado</strong>: Muestra un resumen de la actividad del postulante, incluyendo el estado de sus aplicaciones (<code>Enviado</code>, <code>Visto</code>, <code>Aceptado</code>) y una tasa de conversión.</li>
        <li><strong>Perfil Inteligente</strong>:
            <ul>
                <li>El postulante puede completar su perfil manualmente.</li>
                <li><strong>Extracción Automática desde CV</strong>: Al subir un CV en PDF, el sistema utiliza el motor de <code>matchmaker</code> para <strong>extraer automáticamente las habilidades técnicas</strong> y sugerir un rol profesional, autocompletando el perfil.</li>
            </ul>
        </li>
        <li><strong>Recomendación de Habilidades</strong>: Una función avanzada analiza las vacantes a las que el usuario ha postulado, detecta qué habilidades requeridas no posee y se las <strong>recomienda para que pueda mejorar su perfil</strong>.</li>
        <li><strong>Búsqueda y Postulación</strong>: Permite buscar vacantes, filtrarlas y aplicar a ellas de forma sencilla.</li>
    </ul>

    <h4>Para Reclutadores:</h4>
    <ul>
        <li><strong>Dashboard de Gestión</strong>: Ofrece una vista rápida de las vacantes activas, el número de postulaciones nuevas y un resumen de sus ofertas de empleo más recientes.</li>
        <li><strong>Análisis de Candidatos en Tiempo Real</strong>:
            <ul>
                <li>Al ver la lista de postulantes para una vacante, el sistema <strong>calcula y muestra un puntaje de afinidad (match)</strong> para cada uno.</li>
                <li>Asigna etiquetas claras (<code>Muy apto</code>, <code>Apto</code>, <code>Poco apto</code>) para facilitar la preselección.</li>
                <li>Muestra las habilidades específicas que coinciden entre el candidato y la oferta.</li>
            </ul>
        </li>
        <li><strong>Análisis de Demanda</strong>: El dashboard analiza las propias ofertas del reclutador para mostrarle un <strong>ranking de las habilidades más demandadas</strong> en sus vacantes.</li>
        <li><strong>Gestión de Vacantes</strong>: Permite crear, editar, cerrar y administrar ofertas de empleo, incluyendo la posibilidad de añadir preguntas personalizadas.</li>
    </ul>

    <h3>3.2. Aplicación <code>matchmaker</code>: El Motor de Inteligencia Artificial</h3>
    <p>Esta aplicación no tiene una interfaz de usuario directa dentro del flujo principal, sino que provee la tecnología de procesamiento y análisis que <code>portal</code> utiliza.</p>

    <h4>Proceso de Extracción de Perfil (CV a Datos)</h4>
    <ol>
        <li><strong>Extracción de Texto</strong>: Se utiliza la librería <code>PyMuPDF</code> (o <code>PyPDF2</code> como alternativa) para convertir el contenido del CV en PDF a texto plano.</li>
        <li><strong>Extracción de Habilidades (Método Híbrido)</strong>:
            <ul>
                <li><strong>Búsqueda por Diccionario</strong>: Se busca en el texto una lista predefinida de habilidades (<code>SKILL_DICTIONARY</code>) para encontrar coincidencias exactas.</li>
                <li><strong>IA (NER - Named Entity Recognition)</strong>: Se utiliza un modelo de lenguaje de Hugging Face (<code>mrm8488/bert-spanish-cased-finetuned-ner</code>) para identificar habilidades y tecnologías que no están en el diccionario, reconociendo el contexto del texto.</li>
            </ul>
        </li>
        <li><strong>Construcción de Perfil</strong>: Con el texto y las habilidades, el sistema infiere un rol general (ej. "Frontend Developer"), detecta idiomas y ensambla un perfil estructurado.</li>
    </ol>

    <h4>Proceso de Matching (Cálculo de Afinidad)</h4>
    <p>El puntaje final se calcula mediante un <strong>promedio ponderado adaptativo</strong> que combina dos técnicas:</p>
    <ol>
        <li><strong>Coincidencia Léxica (Keywords)</strong>: Compara directamente la lista de habilidades del candidato con las requeridas en la oferta. Aporta precisión y rapidez.</li>
        <li><strong>Similitud Semántica (IA)</strong>:
            <ul>
                <li>Utiliza un modelo de lenguaje multilingüe (<code>paraphrase-multilingual-MiniLM-L12-v2</code>) para convertir tanto el perfil del candidato como la descripción de la oferta en <strong>vectores de significado (embeddings)</strong>.</li>
                <li>Compara estos vectores para determinar si son semánticamente similares, incluso si no usan las mismas palabras. Esto permite entender el contexto y las relaciones entre habilidades.</li>
            </ul>
        </li>
    </ol>
    <p>El peso de cada técnica se ajusta dinámicamente. Si la oferta de empleo tiene listas explícitas de habilidades, la coincidencia léxica tiene más peso (50%). Si no, el sistema se apoya más en la similitud semántica para encontrar buenos candidatos.</p>

    <h2>4. Cómo Ejecutar el Proyecto</h2>
     <ol>
        <li><strong>Clonar el repositorio</strong>:
            <pre><code>git clone &lt;url-del-repositorio&gt;
cd Selectorium</code></pre>
        </li>
        <li><strong>Crear y activar un entorno virtual</strong>:
            <pre><code>python -m venv venv
source venv/bin/activate  # En Windows: venv\Scripts\activate</code></pre>
        </li>
        <li><strong>Instalar dependencias</strong>:
            <p>Asegúrate de tener <a href="https://poppler.freedesktop.org/">Poppler</a> instalado en tu sistema, ya que es necesario para <code>pdf2image</code>.</p>
            <pre><code>pip install -r requirements.txt</code></pre>
        </li>
        <li><strong>Configurar la base de datos</strong>:
            <p>Asegúrate de que tu servidor de PostgreSQL esté corriendo y actualiza las credenciales en el archivo <code>selectorium/settings.py</code> si es necesario.</p>
        </li>
        <li><strong>Aplicar las migraciones</strong>:
            <pre><code>python manage.py migrate</code></pre>
        </li>
        <li><strong>Ejecutar el servidor de desarrollo</strong>:
            <pre><code>python manage.py runserver</code></pre>
            <p>El sitio estará disponible en <code>http://127.0.0.1:8000</code>.</p>
        </li>
    </ol>

</body>
</html>