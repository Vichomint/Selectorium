{% extends "layout_reclutador.html" %} {% block title %}Administrar Vacante
{%endblock %} {% block main_content %}
<h2 class="text-2xl font-bold text-primary-700 mb-6">
  <i class="fas fa-briefcase mr-2"></i> {{ vacante.titulo }}
</h2>

<p class="text-gray-600 mb-6 whitespace-pre-line">{{ vacante.descripcion }}</p>

<h3 class="text-xl font-semibold text-gray-800 mb-4">Postulantes</h3>

{% if postulaciones %}
<div class="space-y-4">
  {% for postulacion in postulaciones %}
  <div class="bg-white shadow rounded-lg p-4 flex justify-between items-center">
    <div>
      <h4 class="font-bold text-primary-700">
        {{ postulacion.postulante.username }}
      </h4>
      <p class="text-sm text-gray-500">
        Postulado el {{ postulacion.fecha_postulacion|date:"d/m/Y H:i" }}
      </p>
      <span
        class="px-3 py-1 rounded-full text-sm font-bold {% if postulacion.estado == 'enviado' %} bg-yellow-100 text-yellow-700 {% elif postulacion.estado == 'visto' %} bg-blue-100 text-blue-700 {% elif postulacion.estado == 'aceptado' %} bg-green-100 text-green-700 {% elif postulacion.estado == 'rechazado' %} bg-red-100 text-red-700 {% endif %}"
      >
        {{ postulacion.get_estado_display }}
      </span>
    </div>

    <!-- Botón marcar como visto -->
    <a
      href="{% url 'detalle_postulante' vacante.id postulacion.id %}"
      class="btn-primary text-sm"
    >
      Ver detalle
    </a>
  </div>
  {% endfor %}
</div>
{% else %}
<p class="text-gray-500">Aún no hay postulantes para esta vacante.</p>
{% endif %}

<div class="mt-6">
  <a href="{% url 'reclutador_vacantes' %}" class="btn-secondary">Volver</a>
</div>
{% endblock %}
